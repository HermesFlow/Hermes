{#-###########################  -#}
{#-         Utilities           -#}
{#-###########################  -#}

{%- macro toVector(vertices) -%}
  ({%- for coord in vertices %} {{ coord }} {%- endfor %})
{%- endmacro %}

{#-#############################################-#}
{#-#############################################-#}

{#-        A marco for the a injectors         -#}
{#-  ========================================= -#}
{%- macro injectors(injectorName,injectorData) -%}
{%  if injectorData.type =='manualInjection' %}
{{ManualInjection(injectorName,injectorData)}}
{%  else %}
    UNKNOWN Injector, must be manualInjection
{% endif %}
{%- endmacro %}

{#- Injector: A marco for the Manual injection  -#}
{#- -----------------------------------------  -#}
{%- macro ManualInjection(injectorName,injectorData) -%}
        {{injectorName}}
        {
            type            manualInjection;
            massTotal       {{injectorData.massTotal}};
            parcelBasisType {{injectorData.parcelBasisType}};
            nParticle       {{injectorData.nParticle}};
            SOI             {{injectorData.StartOfInjection}};
            positionsFile   {{injectorData.StartOfInjection}};
            U0              {{toVector(injectorData.U0)}};
            sizeDistribution
            {
                {{sizedistribution(sizeDistribution)}}
            }
        }
    }
{%- endmacro %}

{#- #############################################    -#}
{#- #############################################    -#}
{#-         A marco for the size distributions       -#}
{#-  ========================================= -#}
{%- macro sizedistribution(sizeDistributionData) -%}
{%  if sizeDistributionData.type =='fixedValue' %}
                type        fixedValue;
                fixedValueDistribution
                {
                    value   {{sizeDistributionData}};
                }
{%  else %}
    UNKNOWN sizeDistrubtion, must be fixedValue
{% endif %}
{%- endmacro %}

