{"parameters": {}, "WebGUI": {}, "Properties": {}, "WebGui": {"Schema": {"title": "", "description": "", "type": "object", "properties": {"castellatedMesh": {"type": "boolean", "title": "castellatedMesh", "description": "To switch on creation of the castellated mesh"}, "snap": {"type": "boolean", "title": "snap", "description": "To switch on surface snapping stage"}, "addLayers": {"type": "boolean", "title": "addLayers", "description": "To switch on surface layer insertion"}, "mergeTolerance": {"title": "mergeTolerance", "type": "number", "default": 1e-06, "description": "merge tolerance as fraction of bounding box of initial mesh"}, "geometry": {"type": "array", "title": "geometry", "items": {"type": "object", "properties": {"nameSO": {"type": "string", "title": "name", "description": "Define region name"}, "geometry objects": {"type": "object", "anyOf": [{"type": "object", "title": "triSurfaceMesh", "properties": {"typeTSM": {"type": "string", "title": "type"}, "regionsTSM": {"type": "array", "title": "regions", "items": {"type": "array", "title": "secondSolid", "items": {"type": "string", "title": "name"}}, "description": "Per region the patch name"}, "toleranceTSM": {"type": "number", "title": "tolerance", "description": "Tolerance to use for intersection tests"}, "scaleTSM": {"type": "number", "title": "scale", "description": "Scale factor to apply to the points"}, "nameTSM": {"type": "string", "title": "name", "description": "Name to use to refer to this surface"}}}, {"type": "object", "title": "searchableBox", "properties": {"typeBox": {"type": "string", "title": "type"}, "minBox": {"type": "string", "title": "min", "format": "vector", "description": "Box minimum point"}, "maxBox": {"type": "string", "title": "max", "format": "vector", "description": "Box maximum point"}}}, {"type": "object", "title": "searchableCone", "properties": {"typeCone": {"type": "string", "title": "type"}, "point1Cone": {"type": "string", "title": "point1", "format": "vector", "description": "Axis point at the start"}, "radius1Cone": {"title": "radius1", "type": "number", "description": "Outer radius at the start"}, "innerRadius1Cone": {"title": "innerRadius1", "type": "number", "description": "Inner radius at the start"}, "point2Cone": {"type": "string", "title": "point2", "format": "vector", "description": "Axis point at the start"}, "radius2Cone": {"title": "radius2", "type": "number", "description": "Outer radius at the start"}, "innerRadius2Cone": {"title": "innerRadius2", "type": "number", "description": "Inner radius at the start"}}}, {"type": "object", "title": "searchableCylinder", "properties": {"typeCylinder": {"type": "string", "title": "type"}, "point1Cylinder": {"type": "string", "title": "point1", "format": "vector", "description": "Axis point at the start"}, "point2Cylinder": {"type": "string", "title": "point1", "format": "vector", "description": "Axis point at the end"}, "radiusCylinder": {"title": "radius", "type": "number", "description": "Cylinder radius"}}}, {"type": "object", "title": "searchableDisk", "properties": {"typeDisk": {"type": "string", "title": "type"}, "originDisk": {"type": "string", "title": "origin", "format": "vector", "description": "Disk origin"}, "normalDisk": {"type": "string", "title": "normal", "format": "vector", "description": "Normal direction"}, "radiusDisk": {"title": "radius", "type": "number", "description": "Disk radius"}}}, {"type": "object", "title": "searchableExtrudedCircle", "properties": {"typeExtrudedCircle": {"type": "string", "title": "type", "description": "A shape defined by inflating a segmented line into a tube with constant radius. Note that only near queries are implemented, i.e. no testing for intersections or inside/outside."}, "fileExtrudedCircle": {"type": "string", "title": "file Name", "description": "example: curve2.vtk "}, "radiusExtrudedCircle": {"title": "radius", "type": "number", "description": "Constant radius"}}}, {"type": "object", "title": "searchablePlane", "properties": {"typePlane": {"type": "string", "title": "type"}, "planeType": {"type": "object", "anyOf": [{"title": "pointAndNormal", "description": "Plane defined by point and a normal vector", "properties": {"basePointPAN": {"type": "string", "title": "basePoint", "format": "vector"}, "normalPAN": {"type": "string", "title": "normal", "format": "vector"}}}, {"title": "embeddedPoints", "description": "Plane defined by 3 points on the plane", "properties": {"point1EP": {"type": "string", "title": "point1", "format": "vector"}, "point2EP": {"type": "string", "title": "point2", "format": "vector"}, "point3EP": {"type": "string", "title": "point3", "format": "vector"}}}, {"title": "planeEquation", "description": "Plane defined by plane equation:", "properties": {"aPE": {"type": "integer", "title": "a"}, "bPE": {"type": "integer", "title": "b"}, "cPE": {"type": "integer", "title": "c"}, "dPE": {"type": "integer", "title": "d"}}}]}}}, {"type": "object", "title": "searchablePlate", "properties": {"typePlate": {"type": "string", "title": "type", "description": "A finite plate aligned with co-ordinate system. Plate could be used e.g. to create a baffle or measuring plane"}, "originPlate": {"type": "string", "title": "point1", "format": "vector", "description": "Centre of plate"}, "spanPlate": {"type": "string", "title": "point1", "format": "vector", "description": "Span in each direction - User must specify span in two directions, the third must be zero."}}}, {"type": "object", "title": "searchableRotatedBox", "properties": {"typeRotatedBox": {"type": "string", "title": "type"}, "spanRB": {"type": "string", "title": "span"}, "originRB": {"type": "string", "title": "origin"}, "ei-vectors": {"type": "object", "description": "The rotation is defined by a combination of vectors (e1/e2),(e2/e3) or (e3/e1)", "anyOf": [{"title": "Option1-e1,e2", "properties": {"e1OP1": {"type": "string", "title": "e1", "format": "vector"}, "e2OP1": {"type": "string", "title": "e2", "format": "vector"}}}, {"title": "Option2-e1,e3", "properties": {"e1OP2": {"type": "string", "title": "e1", "format": "vector"}, "e3OP2": {"type": "string", "title": "e3", "format": "vector"}}}, {"title": "Option3-e2,e3", "properties": {"e2OP3": {"type": "string", "title": "e2", "format": "vector"}, "e3OP3": {"type": "string", "title": "e3", "format": "vector"}}}]}}}, {"type": "object", "title": "searchableSphere", "properties": {"typeSphere": {"type": "string", "title": "type"}, "centerSphere": {"type": "string", "title": "point1", "format": "vector", "description": "Centre of sphere"}, "radiusSphere": {"title": "radius", "type": "number", "description": "Radius of sphere"}}}]}}}}, "castellatedMeshControls": {"type": "object", "title": "castellatedMeshControls", "properties": {"locationInMesh": {"type": "string", "title": "locationInMesh", "format": "vector", "description": "location vector inside the region to be meshed; vector must not coincide with a cell face either before or during refinement"}, "maxLocalCells": {"type": "number", "title": "maxLocalCells", "description": "max number of cells per processor during refinement."}, "maxGlobalCells": {"type": "number", "title": "maxGlobalCells", "description": "overall cell limit during refinement"}, "minRefinementCells": {"type": "number", "title": "minRefinementCells", "description": "if minRefinementCells bigger/equal than number of cells to be refined, surface refinement stops"}, "nCellsBetweenLevels": {"type": "number", "title": "nCellsBetweenLevels", "description": "number of buffer layers of cells between successive levels of refinement"}, "resolveFeatureAngle": {"type": "number", "title": "resolveFeatureAngle", "description": "applies maximum level of refinement to cells that can see intersections whose angle exceeds resolveFeatureAngle"}, "features": {"type": "array", "titles": "features", "items": {"type": "object", "description": "list of features for refinement", "properties": {"file": {"type": "string", "title": "file"}, "levels": {"type": "string", "title": "levels"}}}}, "refinementSurfaces": {"type": "array", "title": "refinementSurfaces", "items": {"type": "object", "properties": {"SurfaceName": {"type": "string", "title": "Name of Surface"}, "SurfaceProperties": {"type": "object", "properties": {"level": {"type": "string", "title": "level"}, "patchInfo": {"type": "object", "title": "patchInfo", "properties": {"type": {"type": "string"}}}, "regions": {"type": "array", "title": "regions", "items": {"type": "object", "properties": {"regionName": {"type": "string", "title": "Name of region"}, "levels": {"type": "string", "title": "levels"}}}}}}}}}, "refinementRegions": {"type": "array", "title": "refinementRegions", "items": {"type": "object", "properties": {"RegionName": {"type": "string", "title": "Name of Region"}, "RegionProperties": {"type": "object", "properties": {"mode": {"type": "string", "title": "mode"}, "levels": {"type": "string", "title": "levels"}}}}}}}}, "snapControls": {"type": "object", "title": "snapControls", "properties": {"nSmoothPatch": {"type": "integer", "title": "nSmoothPatch", "description": "Number of smoothing iterations along the surface"}, "nSmoothInternal": {"type": "integer", "title": "nSmoothInternal", "description": "Number of iterations for internal smoothing to reduce non-orthogonality at the face of refinement (effectively making the faces non-planar)."}, "tolerance": {"type": "number", "title": "tolerance", "description": "Multiplied by local cell-edge length specifies region along the surface within which the points are attracted by the surface."}, "nSolveIter": {"type": "integer", "title": "nSolveIter", "description": "Number of mesh displacement iterations"}, "nRelaxIter": {"type": "integer", "title": "nRelaxIter", "description": "Number of relaxation iterations during the snapping"}, "nFeatureSnapIter": {"type": "integer", "title": "nFeatureSnapIter", "description": "Number of relaxation iterations used for snapping onto the features"}, "implicitFeatureSnap": {"type": "boolean", "title": "implicitFeatureSnap", "description": "Switch turning on the implicit feature specification"}, "explicitFeatureSnap": {"type": "boolean", "title": "explicitFeatureSnap", "description": "Snap mesh onto the feature lines defined in eMesh file."}, "multiRegionFeatureSnap": {"type": "boolean", "title": "multiRegionFeatureSnap", "description": "When using explicitFeatureSnap and this switch is on, features between multiple surfaces will be captured. This is useful for multi-region meshing where the internal mesh must conform the region geometrical boundaries"}}}, "layers": {"type": "array", "title": "layers", "items": {"type": "object", "properties": {"name": {"type": "string", "title": "Surface Name"}, "layerProperties": {"type": "object", "properties": {"nSurfaceLayers": {"type": "integer", "title": "nSurfaceLayers"}}}}}}, "addLayersControls": {"type": "object", "title": "addLayersControls", "properties": {"relativeSizes": {"type": "boolean", "title": "relativeSizes"}, "expansionRatio": {"type": "number", "title": "expansionRatio", "description": "expansion factor for layer mesh, increase in size from one layer to the next."}, "finalLayerThickness": {"type": "number", "title": "finalLayerThickness", "description": "thickness of layer furthest from the wall, usually in combination with relative sizes according to the relativeSizes entry."}, "firstLayerThickness": {"type": "number", "title": "firstLayerThickness", "description": "thickness of layer nearest the wall, usually in combination with absolute sizes according to the relativeSizes entry."}, "thickness": {"type": "number", "title": "thickness", "description": "total thickness of all layers of cells, usually in combination with absolute sizes according to the relativeSizes entry"}, "minThickness": {"type": "number", "title": "minThickness", "description": "minimum thickness of cell layer, either relative or absolute"}, "nGrow": {"type": "integer", "title": "nGrow", "description": "number of layers of connected faces that are not grown if points do not get extruded"}, "featureAngle": {"type": "number", "title": "featureAngle", "description": "angle above which surface is not extruded"}, "slipFeatureAngle": {"type": "number", "title": "slipFeatureAngle", "description": "At non-patched sides allow mesh to slip if extrusion direction makes angle larger than slipFeatureAngle"}, "nRelaxIter": {"type": "integer", "title": "nRelaxIter", "description": "maximum number of snapping relaxation iterations"}, "nSmoothSurfaceNormals": {"type": "integer", "title": "nSmoothSurfaceNormals", "description": "number of smoothing iterations of surface normals"}, "nSmoothNormals": {"type": "integer", "title": "nSmoothNormals", "description": "number of smoothing iterations of interior mesh movement direction"}, "nSmoothThickness": {"type": "integer", "title": "nSmoothThickness", "description": "smooth layer thickness over surface patches"}, "maxFaceThicknessRatio": {"type": "number", "title": "maxFaceThicknessRatio", "description": "stop layer growth on highly warped cells"}, "maxThicknessToMedialRatio": {"type": "number", "title": "maxThicknessToMedialRatio", "description": "reduce layer growth where ratio thickness to medial distance is large"}, "minMedianAxisAngle": {"type": "number", "title": "minMedianAxisAngle", "description": "angle used to pick up medial axis points"}, "nBufferCellsNoExtrude": {"type": "integer", "title": "nBufferCellsNoExtrude", "description": "create buffer region for new layer terminations"}, "nLayerIter": {"type": "integer", "title": "nLayerIter", "description": "overall max number of layer addition iterations"}, "nRelaxedIter": {"type": "integer", "title": "nRelaxedIter", "description": "max number of iterations after which the controls in the relaxed sub dictionary of meshQuality are used"}}}, "meshQualityControls": {"type": "object", "title": "meshQualityControls", "properties": {"maxNonOrtho": {"type": "number", "title": "maxNonOrtho", "description": "maximum non-orthogonality allowed"}, "maxBoundarySkewness": {"type": "number", "title": "maxBoundarySkewness", "description": "max boundary face skewness allowed"}, "maxInternalSkewness": {"type": "number", "title": "maxInternalSkewness", "description": "max internal face skewness allowed"}, "maxConcave": {"type": "number", "title": "maxConcave", "description": "max concaveness allowed"}, "minFlatness": {"type": "number", "title": "minFlatness", "description": "ratio of minimum projected area to actual area"}, "minTetQuality": {"type": "number", "title": "minTetQuality", "description": "minimum quality of tetrahedral cells from cell decomposition"}, "minVol": {"type": "number", "title": "minVol", "description": "minimum cell pyramid volume"}, "minArea": {"type": "number", "title": "minArea", "default": -1, "description": "minimum face area"}, "minTwist": {"type": "number", "title": "minTwist", "description": "minimum face twist"}, "minDeterminant": {"type": "number", "title": "minDeterminant", "description": "minimum normalised cell determinant"}, "minFaceWeight": {"type": "number", "title": "minFaceWeight"}, "minVolRatio": {"type": "number", "title": "minVolRatio"}, "minTriangleTwist": {"type": "number", "title": "minTriangleTwist"}, "nSmoothScale": {"type": "integer", "title": "nSmoothScale", "description": "number of error distribution iterations"}, "errorReduction": {"type": "number", "title": "errorReduction", "description": "amount to scale back displacement at error points"}, "relaxed": {"type": "object", "title": "relaxed", "description": "sub-dictionary that can include modified values for the above keyword entries to be used when nRelaxedIter is exceeded in the layer addition process", "additionalProperties": {"type": "string"}}}}, "writeFlags": {"type": "array", "items": {"type": "string"}}}}, "uiSchema": {}, "formData": {"castellatedMesh": "on", "snap": "off", "addLayers": "on", "geometry": {"buildings.stl": {"type": "triSurfaceMesh", "name": "buildings"}, "topo.stl": {"type": "triSurfaceMesh", "name": "topo"}, "refinementBox": {"type": "searchableBox", "min": "(-250 -250   0)", "max": "(250 250  10)"}}, "castellatedMeshControls": {"nCellsBetweenLevels": 2, "maxLocalCells": 200000000, "maxGlobalCells": 200000000, "features": {"f1": {"file": "topo.eMesh", "levels": "((3 2) (20 1))"}, "f2": {"file": "buildings.eMesh", "levels": "((3 2) (20 1))"}}, "refinementSurfaces": {"buildings": {"level": "(2 1)", "patchInfo": {"type": "wall"}}, "topo": {"level": "(2 1)", "patchInfo": {"type": "wall"}}}, "refinementRegions": {"refinementBox": {"mode": "inside", "levels": "((1E15 1))"}}, "locationInMesh": "(207000 738000 635)"}, "snapControls": {"explicitFeatureSnap": "true", "implicitFeatureSnap": "false"}, "layers": {"buildings": {"nSurfaceLayers": 1}}, "addLayersControls": {"relativeSizes": "true", "expansionRatio": 1, "finalLayerThickness": 0.3, "minThickness": 0.1, "nGrow": 0, "featureAngle": 60, "slipFeatureAngle": 30, "nRelaxIter": 3, "nSmoothSurfaceNormals": 1, "nSmoothNormals": 3, "nSmoothThickness": 10, "maxFaceThicknessRatio": 0.5, "maxThicknessToMedialRatio": 0.3, "minMedianAxisAngle": 90, "nBufferCellsNoExtrude": 0, "nLayerIter": 50}, "meshQualityControls": {"minArea": -1, "relaxed": {}}, "writeFlags": ["scalarLevels", "layerSets", "layerFields"], "mergeTolerance": 1e-06}}, "input_parameters": {"formData": {"castellatedMesh": "on", "snap": "off", "addLayers": "on", "geometry": {"buildings.stl": {"type": "triSurfaceMesh", "name": "buildings"}, "topo.stl": {"type": "triSurfaceMesh", "name": "topo"}, "refinementBox": {"type": "searchableBox", "min": "(-250 -250   0)", "max": "(250 250  10)"}}, "castellatedMeshControls": {"nCellsBetweenLevels": 2, "maxLocalCells": 200000000, "maxGlobalCells": 200000000, "features": {"f1": {"file": "topo.eMesh", "levels": "((3 2) (20 1))"}, "f2": {"file": "buildings.eMesh", "levels": "((3 2) (20 1))"}}, "refinementSurfaces": {"buildings": {"level": "(2 1)", "patchInfo": {"type": "wall"}}, "topo": {"level": "(2 1)", "patchInfo": {"type": "wall"}}}, "refinementRegions": {"refinementBox": {"mode": "inside", "levels": "((1E15 1))"}}, "locationInMesh": "(207000 738000 635)"}, "snapControls": {"explicitFeatureSnap": "true", "implicitFeatureSnap": "false"}, "layers": {"buildings": {"nSurfaceLayers": 1}}, "addLayersControls": {"relativeSizes": "true", "expansionRatio": 1, "finalLayerThickness": 0.3, "minThickness": 0.1, "nGrow": 0, "featureAngle": 60, "slipFeatureAngle": 30, "nRelaxIter": 3, "nSmoothSurfaceNormals": 1, "nSmoothNormals": 3, "nSmoothThickness": 10, "maxFaceThicknessRatio": 0.5, "maxThicknessToMedialRatio": 0.3, "minMedianAxisAngle": 90, "nBufferCellsNoExtrude": 0, "nLayerIter": 50}, "meshQualityControls": {"minArea": -1, "relaxed": {}}, "writeFlags": ["scalarLevels", "layerSets", "layerFields"], "mergeTolerance": 1e-06}, "WD_path": "/home/noga/Noga/FreeCad/github/Hermes/master/Hermes/examples/openFOAM"}, "output": {"snappyHexMesh": "snappyHexMesh"}}