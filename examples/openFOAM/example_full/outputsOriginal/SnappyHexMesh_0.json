{"formData": {}, "files": {}, "Schema": {}, "uiSchema": {}, "Properties": {}, "WebGui": {"Schema": {"title": "", "description": "", "type": "object", "properties": {"castellatedMesh": {"type": "boolean", "title": "castellatedMesh", "description": "To switch on creation of the castellated mesh"}, "snap": {"type": "boolean", "title": "snap", "description": "To switch on surface snapping stage"}, "addLayers": {"type": "boolean", "title": "addLayers", "description": "To switch on surface layer insertion"}, "mergeTolerance": {"title": "mergeTolerance", "type": "number", "default": 1e-06, "description": "merge tolerance as fraction of bounding box of initial mesh"}, "geometry": {"type": "array", "title": "geometry", "items": {"type": "object", "anyOf": [{"type": "object", "title": "Surface", "properties": {"triSurfaceMesh": {"type": "object", "properties": {"typeTSM": {"type": "string", "title": "type"}, "toleranceTSM": {"type": "number", "title": "tolerance", "description": "Tolerance to use for intersection tests"}, "scaleTSM": {"type": "number", "title": "scale", "description": "Scale factor to apply to the points"}, "nameTSM": {"type": "string", "title": "name", "description": "Name to use to refer to this surface"}, "featuresTSM": {"type": "object", "title": "features", "description": "features for refinement", "properties": {"file": {"type": "string", "title": "file"}, "levels": {"type": "string", "title": "levels"}}}, "refinementSurfacesTSM": {"type": "object", "title": "refinementSurfaces", "properties": {"level": {"type": "string", "title": "level"}, "patchInfo": {"type": "object", "title": "patchInfo", "properties": {"type": {"type": "string"}}}}}, "layersTSM": {"type": "object", "title": "layers", "properties": {"nSurfaceLayers": {"type": "integer", "title": "nSurfaceLayers"}}}}}}}, {"type": "object", "title": "Region", "properties": {"searchableObject": {"type": "object", "anyOf": [{"type": "object", "title": "Box", "properties": {"nameBOX": {"type": "string", "title": "name", "description": "Name to use to refer to this Region"}, "propertiesBOX": {"type": "object", "title": "properties", "properties": {"typeBox": {"type": "string", "title": "type"}, "minBox": {"type": "string", "title": "min", "format": "vector", "description": "Box minimum point"}, "maxBox": {"type": "string", "title": "max", "format": "vector", "description": "Box maximum point"}}}, "refinementRegionsBox": {"type": "object", "title": "refinementRegions", "properties": {"mode": {"type": "string", "title": "mode"}, "levels": {"type": "string", "title": "levels"}}}}}, {"type": "object", "title": "Cone", "properties": {"typeCone": {"type": "string", "title": "type"}, "point1Cone": {"type": "string", "title": "point1", "format": "vector", "description": "Axis point at the start"}, "radius1Cone": {"title": "radius1", "type": "number", "description": "Outer radius at the start"}, "innerRadius1Cone": {"title": "innerRadius1", "type": "number", "description": "Inner radius at the start"}, "point2Cone": {"type": "string", "title": "point2", "format": "vector", "description": "Axis point at the start"}, "radius2Cone": {"title": "radius2", "type": "number", "description": "Outer radius at the start"}, "innerRadius2Cone": {"title": "innerRadius2", "type": "number", "description": "Inner radius at the start"}}}, {"type": "object", "title": "Cylinder", "properties": {"typeCylinder": {"type": "string", "title": "type"}, "point1Cylinder": {"type": "string", "title": "point1", "format": "vector", "description": "Axis point at the start"}, "point2Cylinder": {"type": "string", "title": "point1", "format": "vector", "description": "Axis point at the end"}, "radiusCylinder": {"title": "radius", "type": "number", "description": "Cylinder radius"}}}, {"type": "object", "title": "Disk", "properties": {"typeDisk": {"type": "string", "title": "type"}, "originDisk": {"type": "string", "title": "origin", "format": "vector", "description": "Disk origin"}, "normalDisk": {"type": "string", "title": "normal", "format": "vector", "description": "Normal direction"}, "radiusDisk": {"title": "radius", "type": "number", "description": "Disk radius"}}}, {"type": "object", "title": "ExtrudedCircle", "properties": {"typeExtrudedCircle": {"type": "string", "title": "type", "description": "A shape defined by inflating a segmented line into a tube with constant radius. Note that only near queries are implemented, i.e. no testing for intersections or inside/outside."}, "fileExtrudedCircle": {"type": "string", "title": "file Name", "description": "example: curve2.vtk "}, "radiusExtrudedCircle": {"title": "radius", "type": "number", "description": "Constant radius"}}}, {"type": "object", "title": "Plane", "properties": {"typePlane": {"type": "string", "title": "type"}, "planeType": {"type": "object", "anyOf": [{"title": "pointAndNormal", "description": "Plane defined by point and a normal vector", "properties": {"basePointPAN": {"type": "string", "title": "basePoint", "format": "vector"}, "normalPAN": {"type": "string", "title": "normal", "format": "vector"}}}, {"title": "embeddedPoints", "description": "Plane defined by 3 points on the plane", "properties": {"point1EP": {"type": "string", "title": "point1", "format": "vector"}, "point2EP": {"type": "string", "title": "point2", "format": "vector"}, "point3EP": {"type": "string", "title": "point3", "format": "vector"}}}, {"title": "planeEquation", "description": "Plane defined by plane equation:", "properties": {"aPE": {"type": "integer", "title": "a"}, "bPE": {"type": "integer", "title": "b"}, "cPE": {"type": "integer", "title": "c"}, "dPE": {"type": "integer", "title": "d"}}}]}}}, {"type": "object", "title": "Plate", "properties": {"typePlate": {"type": "string", "title": "type", "description": "A finite plate aligned with co-ordinate system. Plate could be used e.g. to create a baffle or measuring plane"}, "originPlate": {"type": "string", "title": "point1", "format": "vector", "description": "Centre of plate"}, "spanPlate": {"type": "string", "title": "point1", "format": "vector", "description": "Span in each direction - User must specify span in two directions, the third must be zero."}}}, {"type": "object", "title": "RotatedBox", "properties": {"typeRotatedBox": {"type": "string", "title": "type"}, "spanRB": {"type": "string", "title": "span"}, "originRB": {"type": "string", "title": "origin"}, "ei-vectors": {"type": "object", "description": "The rotation is defined by a combination of vectors (e1/e2),(e2/e3) or (e3/e1)", "anyOf": [{"title": "Option1-e1,e2", "properties": {"e1OP1": {"type": "string", "title": "e1", "format": "vector"}, "e2OP1": {"type": "string", "title": "e2", "format": "vector"}}}, {"title": "Option2-e1,e3", "properties": {"e1OP2": {"type": "string", "title": "e1", "format": "vector"}, "e3OP2": {"type": "string", "title": "e3", "format": "vector"}}}, {"title": "Option3-e2,e3", "properties": {"e2OP3": {"type": "string", "title": "e2", "format": "vector"}, "e3OP3": {"type": "string", "title": "e3", "format": "vector"}}}]}}}, {"type": "object", "title": "Sphere", "properties": {"typeSphere": {"type": "string", "title": "type"}, "centerSphere": {"type": "string", "title": "point1", "format": "vector", "description": "Centre of sphere"}, "radiusSphere": {"title": "radius", "type": "number", "description": "Radius of sphere"}}}]}}}]}}, "castellatedMeshControls": {"type": "object", "title": "castellatedMeshControls", "properties": {"locationInMesh": {"type": "string", "title": "locationInMesh", "format": "vector", "description": "location vector inside the region to be meshed; vector must not coincide with a cell face either before or during refinement"}, "maxLocalCells": {"type": "number", "title": "maxLocalCells", "description": "max number of cells per processor during refinement."}, "maxGlobalCells": {"type": "number", "title": "maxGlobalCells", "description": "overall cell limit during refinement"}, "minRefinementCells": {"type": "number", "title": "minRefinementCells", "description": "if minRefinementCells bigger/equal than number of cells to be refined, surface refinement stops"}, "nCellsBetweenLevels": {"type": "number", "title": "nCellsBetweenLevels", "description": "number of buffer layers of cells between successive levels of refinement"}, "resolveFeatureAngle": {"type": "number", "title": "resolveFeatureAngle", "description": "applies maximum level of refinement to cells that can see intersections whose angle exceeds resolveFeatureAngle"}}}, "snapControls": {"type": "object", "title": "snapControls", "properties": {"nSmoothPatch": {"type": "integer", "title": "nSmoothPatch", "description": "Number of smoothing iterations along the surface"}, "nSmoothInternal": {"type": "integer", "title": "nSmoothInternal", "description": "Number of iterations for internal smoothing to reduce non-orthogonality at the face of refinement (effectively making the faces non-planar)."}, "tolerance": {"type": "number", "title": "tolerance", "description": "Multiplied by local cell-edge length specifies region along the surface within which the points are attracted by the surface."}, "nSolveIter": {"type": "integer", "title": "nSolveIter", "description": "Number of mesh displacement iterations"}, "nRelaxIter": {"type": "integer", "title": "nRelaxIter", "description": "Number of relaxation iterations during the snapping"}, "nFeatureSnapIter": {"type": "integer", "title": "nFeatureSnapIter", "description": "Number of relaxation iterations used for snapping onto the features"}, "implicitFeatureSnap": {"type": "boolean", "title": "implicitFeatureSnap", "description": "Switch turning on the implicit feature specification"}, "explicitFeatureSnap": {"type": "boolean", "title": "explicitFeatureSnap", "description": "Snap mesh onto the feature lines defined in eMesh file."}, "multiRegionFeatureSnap": {"type": "boolean", "title": "multiRegionFeatureSnap", "description": "When using explicitFeatureSnap and this switch is on, features between multiple surfaces will be captured. This is useful for multi-region meshing where the internal mesh must conform the region geometrical boundaries"}}}, "addLayersControls": {"type": "object", "title": "addLayersControls", "properties": {"relativeSizes": {"type": "boolean", "title": "relativeSizes"}, "expansionRatio": {"type": "number", "title": "expansionRatio", "description": "expansion factor for layer mesh, increase in size from one layer to the next."}, "finalLayerThickness": {"type": "number", "title": "finalLayerThickness", "description": "thickness of layer furthest from the wall, usually in combination with relative sizes according to the relativeSizes entry."}, "firstLayerThickness": {"type": "number", "title": "firstLayerThickness", "description": "thickness of layer nearest the wall, usually in combination with absolute sizes according to the relativeSizes entry."}, "thickness": {"type": "number", "title": "thickness", "description": "total thickness of all layers of cells, usually in combination with absolute sizes according to the relativeSizes entry"}, "minThickness": {"type": "number", "title": "minThickness", "description": "minimum thickness of cell layer, either relative or absolute"}, "nGrow": {"type": "integer", "title": "nGrow", "description": "number of layers of connected faces that are not grown if points do not get extruded"}, "featureAngle": {"type": "number", "title": "featureAngle", "description": "angle above which surface is not extruded"}, "slipFeatureAngle": {"type": "number", "title": "slipFeatureAngle", "description": "At non-patched sides allow mesh to slip if extrusion direction makes angle larger than slipFeatureAngle"}, "nRelaxIter": {"type": "integer", "title": "nRelaxIter", "description": "maximum number of snapping relaxation iterations"}, "nSmoothSurfaceNormals": {"type": "integer", "title": "nSmoothSurfaceNormals", "description": "number of smoothing iterations of surface normals"}, "nSmoothNormals": {"type": "integer", "title": "nSmoothNormals", "description": "number of smoothing iterations of interior mesh movement direction"}, "nSmoothThickness": {"type": "integer", "title": "nSmoothThickness", "description": "smooth layer thickness over surface patches"}, "maxFaceThicknessRatio": {"type": "number", "title": "maxFaceThicknessRatio", "description": "stop layer growth on highly warped cells"}, "maxThicknessToMedialRatio": {"type": "number", "title": "maxThicknessToMedialRatio", "description": "reduce layer growth where ratio thickness to medial distance is large"}, "minMedianAxisAngle": {"type": "number", "title": "minMedianAxisAngle", "description": "angle used to pick up medial axis points"}, "nBufferCellsNoExtrude": {"type": "integer", "title": "nBufferCellsNoExtrude", "description": "create buffer region for new layer terminations"}, "nLayerIter": {"type": "integer", "title": "nLayerIter", "description": "overall max number of layer addition iterations"}, "nRelaxedIter": {"type": "integer", "title": "nRelaxedIter", "description": "max number of iterations after which the controls in the relaxed sub dictionary of meshQuality are used"}}}, "meshQualityControls": {"type": "object", "title": "meshQualityControls", "properties": {"maxNonOrtho": {"type": "number", "title": "maxNonOrtho", "description": "maximum non-orthogonality allowed"}, "maxBoundarySkewness": {"type": "number", "title": "maxBoundarySkewness", "description": "max boundary face skewness allowed"}, "maxInternalSkewness": {"type": "number", "title": "maxInternalSkewness", "description": "max internal face skewness allowed"}, "maxConcave": {"type": "number", "title": "maxConcave", "description": "max concaveness allowed"}, "minFlatness": {"type": "number", "title": "minFlatness", "description": "ratio of minimum projected area to actual area"}, "minTetQuality": {"type": "number", "title": "minTetQuality", "description": "minimum quality of tetrahedral cells from cell decomposition"}, "minVol": {"type": "number", "title": "minVol", "description": "minimum cell pyramid volume"}, "minArea": {"type": "number", "title": "minArea", "default": -1, "description": "minimum face area"}, "minTwist": {"type": "number", "title": "minTwist", "description": "minimum face twist"}, "minDeterminant": {"type": "number", "title": "minDeterminant", "description": "minimum normalised cell determinant"}, "minFaceWeight": {"type": "number", "title": "minFaceWeight"}, "minVolRatio": {"type": "number", "title": "minVolRatio"}, "minTriangleTwist": {"type": "number", "title": "minTriangleTwist"}, "nSmoothScale": {"type": "integer", "title": "nSmoothScale", "description": "number of error distribution iterations"}, "errorReduction": {"type": "number", "title": "errorReduction", "description": "amount to scale back displacement at error points"}, "relaxed": {"type": "object", "title": "relaxed", "description": "sub-dictionary that can include modified values for the above keyword entries to be used when nRelaxedIter is exceeded in the layer addition process", "additionalProperties": {"type": "string"}}}}, "writeFlags": {"type": "array", "items": {"type": "string"}}}}, "uiSchema": {}, "formData": {"castellatedMesh": true, "snap": false, "addLayers": true, "geometry": [{"triSurfaceMesh": {"typeTSM": "triSurfaceMesh", "nameTSM": "buildings", "featuresTSM": {"file": "buildings.eMesh", "levels": "((3 2) (20 1))"}, "refinementSurfacesTSM": {"level": "(2 1)", "patchInfo": {"type": "wall"}}, "layersTSM": {"nSurfaceLayers": 1}}}, {"triSurfaceMesh": {"layersTSM": {}, "typeTSM": "triSurfaceMesh", "nameTSM": "topo", "featuresTSM": {"file": "topo.eMesh", "levels": "((3 2) (20 1))"}, "refinementSurfacesTSM": {"level": "(2 1)", "patchInfo": {"type": "wall"}}}}, {"searchableObject": {"nameBOX": "refinementBox", "propertiesBOX": {"typeBox": "searchableBox", "minBox": "(-250 -250   0)", "maxBox": "(250 250  10)"}, "refinementRegionsBox": {"mode": "inside", "levels": "((1E15 1))"}}}], "castellatedMeshControls": {"nCellsBetweenLevels": 2, "maxLocalCells": 200000000, "maxGlobalCells": 200000000, "locationInMesh": "(207000 738000 635)"}, "snapControls": {"explicitFeatureSnap": true, "implicitFeatureSnap": false}, "addLayersControls": {"relativeSizes": true, "expansionRatio": 1, "finalLayerThickness": 0.3, "minThickness": 0.1, "nGrow": 0, "featureAngle": 60, "slipFeatureAngle": 30, "nRelaxIter": 3, "nSmoothSurfaceNormals": 1, "nSmoothNormals": 3, "nSmoothThickness": 10, "maxFaceThicknessRatio": 0.5, "maxThicknessToMedialRatio": 0.3, "minMedianAxisAngle": 90, "nBufferCellsNoExtrude": 0, "nLayerIter": 50}, "meshQualityControls": {}, "writeFlags": ["scalarLevels", "layerSets", "layerFields"], "mergeTolerance": 1e-06}}, "input_parameters": {"values": {"castellatedMesh": true, "snap": false, "addLayers": true, "geometry": [{"triSurfaceMesh": {"typeTSM": "triSurfaceMesh", "nameTSM": "buildings", "featuresTSM": {"file": "buildings.eMesh", "levels": "((3 2) (20 1))"}, "refinementSurfacesTSM": {"level": "(2 1)", "patchInfo": {"type": "wall"}}, "layersTSM": {"nSurfaceLayers": 1}}}, {"triSurfaceMesh": {"layersTSM": {}, "typeTSM": "triSurfaceMesh", "nameTSM": "topo", "featuresTSM": {"file": "topo.eMesh", "levels": "((3 2) (20 1))"}, "refinementSurfacesTSM": {"level": "(2 1)", "patchInfo": {"type": "wall"}}}}, {"searchableObject": {"nameBOX": "refinementBox", "propertiesBOX": {"typeBox": "searchableBox", "minBox": "(-250 -250   0)", "maxBox": "(250 250  10)"}, "refinementRegionsBox": {"mode": "inside", "levels": "((1E15 1))"}}}], "castellatedMeshControls": {"nCellsBetweenLevels": 2, "maxLocalCells": 200000000, "maxGlobalCells": 200000000, "locationInMesh": "(207000 738000 635)"}, "snapControls": {"explicitFeatureSnap": true, "implicitFeatureSnap": false}, "addLayersControls": {"relativeSizes": true, "expansionRatio": 1, "finalLayerThickness": 0.3, "minThickness": 0.1, "nGrow": 0, "featureAngle": 60, "slipFeatureAngle": 30, "nRelaxIter": 3, "nSmoothSurfaceNormals": 1, "nSmoothNormals": 3, "nSmoothThickness": 10, "maxFaceThicknessRatio": 0.5, "maxThicknessToMedialRatio": 0.3, "minMedianAxisAngle": 90, "nBufferCellsNoExtrude": 0, "nLayerIter": 50}, "meshQualityControls": {}, "writeFlags": ["scalarLevels", "layerSets", "layerFields"], "mergeTolerance": 1e-06}, "template": "openFOAM/simpleFOAM/SnappyHexMeshDict", "WD_path": "/home/noga/Noga/FreeCad/github/Hermes/master/Hermes/examples/openFOAM/example_full"}, "output": "/*--------------------------------*- C++ -*----------------------------------*\\\n| =========                 |                                                 |\n| \\\\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |\n|  \\\\    /   O peration     | Version:  3.0.1                                 |\n|   \\\\  /    A nd           | Web:      www.OpenFOAM.org                      |\n|    \\\\/     M anipulation  |                                                 |\n\\*---------------------------------------------------------------------------*/\nFoamFile\n{\n    version     2.0;\n    format      ascii;\n    class       dictionary;\n    object      snappyHexMeshDict;\n}\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\n\n#includeEtc \"caseDicts/mesh/generation/snappyHexMeshDict.cfg\"\n\ncastellatedMesh on;\nsnap off;\naddLayers on;\n\ngeometry\n{\n    buildings.stl\n    {\n        type   triSurfaceMesh;\n        name   buildings;\n    };\n        \n    topo.stl\n    {\n        type   triSurfaceMesh;\n        name   topo;\n    };\n        \n    refinementBox\n    {\n        type   searchableBox;\n        min   (-250 -250   0);\n        max   (250 250  10);\n    };\n};\n\ncastellatedMeshControls\n{\n    nCellsBetweenLevels 2;\n    maxGlobalCells 200000000;\n    maxLocalCells 200000000;\n        \n    features\n    (\n        {file   \"buildings.eMesh\";\n        levels   ((3 2) (20 1)); }\n\n    );\n        \n    features\n    (\n        {file   \"topo.eMesh\";\n        levels   ((3 2) (20 1)); }\n\n    );\n        \n    refinementSurfaces\n    {\n        buildings\n        {\n            level (2 1);\n            patchInfo { type wall;}\n        };\n            \n        topo\n        {\n            level (2 1);\n            patchInfo { type wall;}\n        };\n            \n    }\n\n    refinementRegions\n    {\n        refinementBox\n        {\n            mode inside;\n            levels ((1E15 1));\n        };\n    }\n\n    locationInMesh (207000 738000 635);\n}\n\nsnapControls\n{\n    explicitFeatureSnap    True;\n    implicitFeatureSnap    False;\n}\n\nlayers\n{\n    buildings\n{\nnSurfaceLayers 1;\n}\n}\n\naddLayersControls\n{\n\n    // Are the thickness parameters below relative to the undistorted\n    // size of the refined cell outside layer (true) or absolute sizes (false).\n    relativeSizes True;\n\n    // Per final patch (so not geometry!) the layer information\n    layers\n    {\n\n    }\n\n    // Expansion factor for layer mesh\n    expansionRatio 1;\n\n    // Wanted thickness of final added cell layer. If multiple layers\n    // is the\n    // thickness of the layer furthest away from the wall.\n    // Relative to undistorted size of cell outside layer.\n    // is the thickness of the layer furthest away from the wall.\n    // See relativeSizes parameter.\n    finalLayerThickness 0.3;\n\n    // Minimum thickness of cell layer. If for any reason layer\n    // cannot be above minThickness do not add layer.\n    // Relative to undistorted size of cell outside layer.\n    minThickness 0.1;\n\n    // If points get not extruded do nGrow layers of connected faces that are\n    // also not grown. This helps convergence of the layer addition process\n    // close to features.\n    // Note: changed(corrected) w.r.t 17x! (didn't do anything in 17x)\n    nGrow 0;\n\n    // Advanced settings\n\n    // When not to extrude surface. 0 is flat surface, 90 is when two faces\n    // are perpendicular\n    featureAngle 60;\n\n    // At non-patched sides allow mesh to slip if extrusion direction makes\n    // angle larger than slipFeatureAngle.\n    slipFeatureAngle 30;\n\n    // Maximum number of snapping relaxation iterations. Should stop\n    // before upon reaching a correct mesh.\n    nRelaxIter 3;\n\n    // Number of smoothing iterations of surface normals\n    nSmoothSurfaceNormals 1;\n\n    // Number of smoothing iterations of interior mesh movement direction\n    nSmoothNormals 3;\n\n    // Smooth layer thickness over surface patches\n    nSmoothThickness 10;\n\n    // Stop layer growth on highly warped cells\n    maxFaceThicknessRatio 0.5;\n\n    // Reduce layer growth where ratio thickness to medial\n    // distance is large\n    maxThicknessToMedialRatio 0.3;\n\n    // Angle used to pick up medial axis points\n    // Note: changed(corrected) w.r.t 17x! 90 degrees corresponds to 130 in 17x.\n    minMedianAxisAngle 90;\n\n\n    // Create buffer region for new layer terminations\n    nBufferCellsNoExtrude 0;\n\n\n    // Overall max number of layer addition iterations. The mesher will exit\n    // if it reaches this number of iterations; possibly with an illegal\n    // mesh.\n    nLayerIter 50;\n\n}\n\nmeshQualityControls\n{\n}\n\nwriteFlags\n(\n    scalarLevels\n    layerSets\n    layerFields\n);\n\nmergeTolerance 1e-06;\n\n// ************************************************************************* //"}